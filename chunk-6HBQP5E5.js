import{i as x}from"./chunk-SMJWCELS.js";import{a as P}from"./chunk-BUQ7NGLY.js";import{C as u,D as E,I as t,J as e,K as g,N as h,Q as n,R as a,X as c,Z as d,da as f,ea as C,ha as y,t as i,v as l,w as s}from"./chunk-C3V7BLWE.js";var M=(m,o)=>o.id;function v(m,o){if(m&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),c(7,"currency"),e(),t(8,"td"),n(9),c(10,"currency"),e()()),m&2){let r=o.$implicit;i(2),a(r.product),i(2),a(r.qty),i(2),a(d(7,4,r.price,"THB")),i(3),a(d(10,7,r.price*r.qty,"THB"))}}var _=class m{constructor(o,r){this.reports=o;this.route=r}user;cart=[];ngOnInit(){this.user=history.state.user,this.cart=history.state.cart}get total(){return this.cart.reduce((o,r)=>o+r.price*r.qty,0)}confirmPayment(){this.reports.addOrder(this.cart),alert("\u2705 Payment Confirmed and saved!"),this.cart=[],this.route.navigate(["home"],{state:{user:this.user}})}static \u0275fac=function(r){return new(r||m)(l(P),l(y))};static \u0275cmp=s({type:m,selectors:[["app-checkout-modal"]],decls:33,vars:4,consts:[[1,"checkout-wrapper"],[1,"cart-summary"],["colspan","3",2,"text-align","right","font-weight","bold"],[2,"font-weight","bold"],[1,"payment"],["src","assets/img/qr-payment-mockup.jpg","alt","QR Payment",1,"qr-img"],[3,"click"]],template:function(r,p){r&1&&(t(0,"h2"),n(1,"Checkout"),e(),t(2,"div",0)(3,"div",1)(4,"h3"),n(5,"Order Summary"),e(),t(6,"table")(7,"thead")(8,"tr")(9,"th"),n(10,"Product"),e(),t(11,"th"),n(12,"Qty"),e(),t(13,"th"),n(14,"Price"),e(),t(15,"th"),n(16,"Subtotal"),e()()(),t(17,"tbody"),u(18,v,11,10,"tr",null,M),e(),t(20,"tfoot")(21,"tr")(22,"td",2),n(23," Total "),e(),t(24,"td",3),n(25),c(26,"currency"),e()()()()(),t(27,"div",4)(28,"h3"),n(29,"Scan QR to Pay"),e(),g(30,"img",5),t(31,"button",6),h("click",function(){return p.confirmPayment()}),n(32,"Confirm Payment"),e()()()),r&2&&(i(18),E(p.cart),i(7),a(d(26,1,p.total,"THB")))},dependencies:[C,x,f],styles:[".checkout-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1rem;margin:5rem}.checkout-wrapper[_ngcontent-%COMP%]   .cart-summary[_ngcontent-%COMP%]{flex:2}.checkout-wrapper[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]{flex:1;text-align:center}.checkout-wrapper[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]   .qr-img[_ngcontent-%COMP%]{width:200px;margin:1rem 0;border:2px solid #333;border-radius:8px}.checkout-wrapper[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem}.checkout-wrapper[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#218838}.w-1[_ngcontent-%COMP%]{width:10%}.w-1[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.w-2[_ngcontent-%COMP%]{width:20%}"]})};export{_ as CheckoutModal};
