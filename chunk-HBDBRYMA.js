import{a as F}from"./chunk-TS3I6PLZ.js";import{a as x,b as v,c as h,d as C,e as y,f as O,g as _,h as M,i as P}from"./chunk-SMJWCELS.js";import{E as l,F as n,G as r,H as m,M as c,Q as i,W as g,ca as d,ea as f,ha as b,t as a,v as s,w as u}from"./chunk-C3V7BLWE.js";var S=()=>({"margin-right":"5px"}),w=class p{constructor(o,e,t){this.fb=o;this.lg=e;this.router=t;this.buildForm()}form;loginResult=null;ngOnInit(){}buildForm(){this.form=this.fb.group({username:[""],password:[""]})}isFormEmpty(){return Object.values(this.form.value).every(o=>!o)}login(){if(this.isFormEmpty())alert("Please fill username and Password !!! ");else{let o={username:this.form.controls.username.value,password:this.form.controls.password.value};this.lg.checkLogin(o).subscribe(e=>{if(console.log("res : ",e),this.loginResult=e,e){alert("\u2705 Login success!");let t=this.lg.getUser(o.username);console.log("logged : ",t),this.router.navigate(["home"],{state:{user:t.loginName}})}else alert("\u274C Login failed!")})}}register(){this.router.navigate(["register"])}static \u0275fac=function(e){return new(e||p)(s(_),s(F),s(b))};static \u0275cmp=u({type:p,selectors:[["app-login-component"]],decls:13,vars:3,consts:[[1,"login-container"],[2,"width","100%",3,"formGroup"],["type","text","formControlName","username"],[1,"col-3"],["type","password","formControlName","password"],[1,"button-group"],["type","button",1,"btn-primary",3,"click","ngStyle"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"h2"),i(2," POS LOGIN "),r(),n(3,"form",1)(4,"label"),i(5,"Username"),r(),m(6,"input",2),n(7,"label",3),i(8,"Password"),r(),m(9,"input",4),n(10,"div",5)(11,"button",6),c("click",function(){return t.login()}),i(12,"Login"),r()()()()),e&2&&(a(3),l("formGroup",t.form),a(8),l("ngStyle",g(2,S)))},dependencies:[f,d,M,C,x,v,h,P,y,O],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:280px auto;padding:2rem;border:2px solid #ddd;border-radius:12px;background:#fff;justify-items:center}input[_ngcontent-%COMP%]{width:88%;height:15px;background:#e0dede;display:flex;margin:20px 15px;padding:10px;border:none;outline:none;border-radius:5px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-start;align-items:center;flex-wrap:wrap;margin:10px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;min-width:80px;transition-duration:.5s;padding:10px 14px;border:1px solid #d0d7de;border-radius:10px;background:#fff;font:500 14px/1.2 system-ui,sans-serif;cursor:pointer}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffebcd;color:sienna}.button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:tan;color:sienna}.button-group[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background-color:maroon;color:tan}"]})};export{w as LoginComponent};
